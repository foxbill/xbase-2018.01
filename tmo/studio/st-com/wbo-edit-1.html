<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>无标题文档</title>
    <link href="../css/style.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../../xbase.js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="../../xbase.js/jquery.xbase.js"></script>
    <script type="text/javascript" src="../../xbase.js/jquery.xbase.form.js"></script>
    <script type="text/javascript" src="../../xbase.js/jquery.xbase.jsonform.js"></script>
    <script type="text/javascript">
        //JsonForm

    </script>
    <script type="text/javascript">

        window.onload = function () {
            var id = $.url.queryString["wbo"];
            if (id) {
                $.get("WboAdmin.getWboSchemaForm.wbo?id=" + id, function (data) {
                    var jsForm = eval("(" + data + ")");
                    var jo = $(divWboSchema).jsonForm(jsForm.Data, jsForm.FieldInfos);
                    // jo.showa();
                });
            }

          //  window.list = new ListView(divMethodList);
        }
        function btnAddMethod_onclick() {
            var item = list.addItem();
            item.setValue("b", "kkkkk");
        }

        function Button1_onclick() {
            var item = list.getActiveItem();
            item.setValue("b", "bk");
        }

        function btnInsert_onclick() {
            var item = list.insertBefore();
        }

        function btnInsertAfter_onclick() {
            var item = list.insertAfter();
        }

        function btnShowCount_onclick() {
            alert(list.itemCount());
        }

        function btnClear_onclick() {
            list.clearItem();
        }

        function savebtn_onclick() {
            divHTML.innerText = divMethodList.outerHTML;
        }

    </script>
</head>
<body class="content">
    <div id="divWboSchema" name="WboSchema">
        <table border="1" istemplate="1">
            <tr>
                <td>
                    对象类型
                </td>
                <td>
                    <label name="WboSchema.ClassName">
                        class</label>&nbsp;
                </td>
                <td>
                    类型Id
                </td>
                <td>
                    <input type="text" name="WboSchema.Id" id="inptId" value="testjsonform" />
                </td>
                <td>
                    类型名称
                </td>
                <td>
                    <input type="text" name="WboSchema.Title" id="Title" />
                </td>
            </tr>
            <tr>
                <td>
                    说明
                </td>
                <td colspan="5">
                    <textarea name="WboSchema.Description" id="Description" cols="45" rows="1"></textarea>
                </td>
            </tr>
            <tr>
                <td>
                    生命周期
                </td>
                <td>
                    <select name="WboSchema.LifeCycle" id="LifeCycle">
                    </select>
                </td>
                <td>
                    公开显示
                </td>
                <td>
                    <input type="checkbox" name="WboSchema.IsPublish" id="IsPublish" />
                </td>
                <td>
                    &nbsp;
                </td>
                <td>
                    &nbsp;
                </td>
            </tr>
        </table>
        <p>
            方法</p>
        <table border="1px #6e6e6e solid;" cellpadding="0" cellspacing="0" class="list" name="WboSchema.Methods"
            id="divMethodList">
            <tr align="center" list="hr" obj="WboSchema.Methods">
                <th class="hc">
                    方法名
                </th>
                <th class="hc">
                    显示名称
                </th>
                <th class="hc">
                    说明
                </th>
                <th class="hc">
                    参数
                </th>
                <th class="hc">
                    测试
                </th>
            </tr>
            <tbody>
                <tr list="ir" obj="WboSchema.Methods">
                    <td class="ic" name="WboSchema.Methods.Id">
                        a a
                    </td>
                    <td class="ic">
                        <input type="text" name="WboSchema.Methods.Title" />
                    </td>
                    <td class="ic">
                        <textarea name="WboSchema.Methods.Description" rows="1" cols="50"></textarea>
                    </td>
                    <td class="ic" name="d">
                        d
                    </td>
                    <td class="ic" name="e">
                        e
                    </td>
                </tr>
                <tr list="ir" obj="WboSchema.Methods">
                    <td class="ic">
                        调用参数
                    </td>
                    <td colspan="4" class="ic">
                        <table class="AutoWidthInput" name="WboSchema.Methods.Params">
                            <tr list="hr" obj="WboSchema.Methods.Params">
                                <td>
                                    参数
                                </td>
                                <td>
                                    显示名称
                                </td>
                                <td>
                                    说明
                                </td>
                            </tr>
                            <tr list="ir" obj="WboSchema.Methods.Params">
                                <td name="WboSchema.Methods.Params.Id">
                                    ID
                                </td>
                                <td>
                                    <input id="Text1" type="text" name="WboSchema.Methods.Params.Title" />
                                </td>
                                <td>
                                    <textarea id="TextArea1" cols="40" name="WboSchema.Methods.Params.Description" rows="1"></textarea>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>
            &nbsp;
        </p>
        <table id="proTab" name="WboSchema.Properties" cellspacing="0" cellpadding="0">
            <tr bgcolor="#A4BDA2" align="center" obj="WboSchema.Properties" list="hr">
                <th class="hc">
                    属性名
                </th>
                <th class="hc">
                    显示名称
                </th>
                <th class="hc">
                    说明
                </th>
            </tr>
            <tbody id="proTabbody">
                <tr obj="WboSchema.Properties" list="ir">
                    <td class="ic" name="WboSchema.Properties.Id">
                        属性名
                    </td>
                    <td class="ic">
                        <input name="WboSchema.Properties.Title" type="text" />
                    </td>
                    <td class="ic">
                        <textarea name="WboSchema.Properties.Description" rows="1"></textarea>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>
            &nbsp;
        </p>
        <p>
            &nbsp;
        </p>
        <p>
            &nbsp;
        </p>
    </div>
    <div id="divHTML">
    </div>
    <p>
    </p>
    <div>
        <input type="button" value="保存" id="savebtn" onclick="return savebtn_onclick()" />
        <input id="btnAddMethod" type="button" value="添加方法" onclick="return btnAddMethod_onclick()" />
        <input id="btnInsert" type="button" value="向前插入" onclick="return btnInsert_onclick()" />
        <input id="btnInsertAfter" type="button" value="向后插入" onclick="return btnInsertAfter_onclick()" />
        <input id="btnShowCount" type="button" value="显示条数" onclick="return btnShowCount_onclick()" />
        <input id="btnClear" type="button" value="清除记录" onclick="return btnClear_onclick()" />
        <input id="Button1" type="button" value="填值" onclick="return Button1_onclick()" />
    </div>
</body>
</html>
